{% extends 'core/_base.html' %}

{% block content %}
	<h1>Pushup Plan</h1>
	{% if pushup_plan %}
		<p><strong>Pushup Plan:</strong></p>
		<pre>{{ pushup_plan }}</pre>
	{% endif %}
	<form method="post">
		{% csrf_token %}
		{% for choice in form.pushup_choices %}
			<input type="checkbox" id="{{ choice.id }}" name="{{ choice.name }}" value="{{ choice.value }}" {% if choice.checked %}checked{% endif %}>
			<label for="{{ choice.id }}">{{ choice.label }}</label><br>
		{% endfor %}
		<label for="total_reps">Total Reps:</label>
		<input type="number" id="total_reps" name="total_reps" min="1" required><br>
		<label for="num_sets">Number of Sets:</label>
		<input type="number" id="num_sets" name="num_sets" min="1"><br>
		<label for="reps_in_set">Reps per Set:</label>
		<input type="number" id="reps_in_set" name="reps_in_set" min="1"><br>
		<script>
			// disable reps_in_set if num_sets is specified
			document.getElementById('num_sets').addEventListener('input', function() {
				if (this.value) {
					document.getElementById('reps_in_set').disabled = true;
				} else {
					document.getElementById('reps_in_set').disabled = false;
				}
			});
			// disable num_sets if reps_in_set is specified
			document.getElementById('reps_in_set').addEventListener('input', function() {
				if (this.value) {
					document.getElementById('num_sets').disabled = true;
				} else {
					document.getElementById('num_sets').disabled = false;
				}
			});
		</script>
		<input type="submit" value="Generate Plan">
	</form>
{% endblock %}